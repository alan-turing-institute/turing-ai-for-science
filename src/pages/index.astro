---
import BaseLayout from "@layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const sections = (await getCollection("sections"))
  .slice()
  .sort((a, b) => a.data.order - b.data.order);

const firstSectionAnchor = sections[0]?.data.anchor;
---

<BaseLayout title="Home">
  <section class="min-h-[100svh] flex flex-col">
    <div class="flex-1 flex flex-col justify-center pt-4">
      <!-- <p class="text-sm text-neutral-400">Turing AI for Science</p> -->
      <h1 class="mt-3 text-3xl sm:text-4xl font-semibold tracking-tight">
        Turing AI for Science
      </h1>
      <p class="mt-4 text-neutral-300">Description.</p>

      <p class="mt-6 text-neutral-300">The Alan Turing Institute, Fundamental Research</p>
      <p class="text-neutral-300">Date</p>
      <p class="text-neutral-300">Location</p>
    </div>

    {
      firstSectionAnchor ? (
        <div class="pb-10 flex justify-center">
          <a
            href={`#${firstSectionAnchor}`}
            class="no-underline text-2xl text-neutral-300 hover:text-neutral-100"
            aria-label="Jump to content"
          >
            &darr;
          </a>
        </div>
      ) : null
    }
  </section>

  {
    sections.map(async (entry) => {
      const { Content } = await entry.render();
      return (
        <section id={entry.data.anchor}>
          <h2 class={entry.data.anchor === firstSectionAnchor ? "mt-0" : undefined}>
            {entry.data.title}
          </h2>
          <Content />
        </section>
      );
    })
  }
</BaseLayout>
